<img width="1157" height="871" alt="image" src="https://github.com/user-attachments/assets/c2e8abe6-075f-4e8f-b54c-65753c7c4ffa" />

문제 출처: https://www.acmicpc.net/problem/15686

---

### Hint

1. 도시에 있는 치킨집 중에서 최대 M개를 고르고, 나머지 치킨집은 모두 폐업시켜야 한다.
- 백트래킹을 사용하여 M개를 골라낸다.

&nbsp;

2. 도시의 치킨 거리가 가장 작게 될지 구하는 프로그램을 작성하시오.
- 치킨 가게 m개를 뽑아서, 집의 개수를 기준으로(집 ↔ 치킨 가게의 최소 거리는 모두 탐색해야 하기 때문) 최소 거리를 구한다.

<img width="562" height="546" alt="image" src="https://github.com/user-attachments/assets/3ed79100-1ea8-425d-add2-45ff7b00948a" />

---

백트래킹, 브루트포스

```java
import java.util.*;
import java.io.*;

class Main {

    static class Point {
        int x, y;

        Point(int x, int y) {
            this.x = x;
            this.y = y;
        }
    }

    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static StringTokenizer st;
    static int n, m, ans = Integer.MAX_VALUE;
    static ArrayList<Point> chicken = new ArrayList<>(); // 치킨 집 좌표 리스트
    static ArrayList<Point> house = new ArrayList<>(); // 집 좌표 리스트
    static ArrayList<Point> choice = new ArrayList<>(); // 선택받은 치킨 집 좌표 리스트
    static boolean[] visited;
    public static void main(String[] args) throws IOException {

        st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());

        for(int i=0; i<n; i++) {
            st = new StringTokenizer(br.readLine());
            for(int j=0; j<n; j++) {
                int tmp = Integer.parseInt(st.nextToken());
                
                if(tmp == 1) house.add(new Point(i, j));
                if(tmp == 2) chicken.add(new Point(i, j));
            }
        }

        // 치킨 집 m개를 고르기 위해 만든 치킨집 리스트
        visited = new boolean[chicken.size()];

        // 백트래킹 시작
        backtracking(0, 0);

        System.out.println(ans);
    }

    static void backtracking(int idx, int depth) {

        if(depth == m) { // 치킨집 m개를 골랐다면
            int total = 0;

            // 집에서 가장 가까운 치킨 집의 거리 탐색
            for(Point h : house) { // 집
                int min = Integer.MAX_VALUE;
                for(Point c : choice) { // 선택받은 치킨집
                    int d = Math.abs(h.x - c.x) + Math.abs(h.y - c.y); // 거리 비교
                    min = Math.min(d, min); // 치킨집과 가장 가까운 집의 거리 갱신
                }
                total += min; // 최소 거리 갱신
            }
            ans = Math.min(ans, total);
        }

        // 치킨집 m개를 고르는 과정. 백트래킹
        for(int i=idx; i<chicken.size(); i++) {
            if(!visited[i]) { 
                visited[i] = true; // 방문 체크
                choice.add(chicken.get(i)); // 치킨 집 선택
                backtracking(i + 1, depth + 1); // 백트래킹
                visited[i] = false;  // 방문 해제
                choice.remove(choice.size() - 1); // 치킨 집 선택 제거
            }
        }
    }
}


```
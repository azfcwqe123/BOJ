<img width="1601" height="1320" alt="image" src="https://github.com/user-attachments/assets/106302fb-a2b1-476c-8cbb-b7dab2815e9f" />

문제: https://www.acmicpc.net/problem/14499

---

### Hint

<img width="1033" height="645" alt="image" src="https://github.com/user-attachments/assets/d4e50a97-97cc-468a-8a7e-01eab3c12005" />

---

구현

```java
import java.util.*;
import java.io.*;

class Main {

    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static StringTokenizer st;

    static int n, m, x, y, k;
    static int[][] map;

    // 동 서 북 남
    static int[] dx = {0, 0, -1, 1};
    static int[] dy = {1, -1, 0, 0};
    static int[] dice = new int[6];

    public static void main(String[] args) throws IOException {
        
        st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        x = Integer.parseInt(st.nextToken());    
        y = Integer.parseInt(st.nextToken());
        k = Integer.parseInt(st.nextToken());

        map = new int[n][m];

        for(int i=0; i<n; i++) {
            st = new StringTokenizer(br.readLine());
            for(int j=0; j<m; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        st = new StringTokenizer(br.readLine());
        for(int i=0; i<k; i++) {
            int move = Integer.parseInt(st.nextToken());

            int nx = x + dx[move - 1];
            int ny = y + dy[move - 1];

            if(!rangeCheck(nx, ny)) continue;

            switch(move) {
                case 1 : moveE(); break;
                case 2 : moveW(); break;
                case 3 : moveN(); break;
                case 4 : moveS(); break;
            }

            // 이동한 칸에 쓰여 있는 수가 0이면, 주사위의 바닥면에 쓰여 있는 수가 칸에 복사
            if(map[nx][ny] == 0) map[nx][ny] = dice[5];
            
            // 0이 아닌 경우에는 칸에 쓰여 있는 수가 주사위의 바닥면으로 복사되며, 칸에 쓰여 있는 수는 0이 된다.
            else {
                dice[5] = map[nx][ny];
                map[nx][ny] = 0;
            }

            x = nx;
            y = ny;
            
            System.out.println(dice[0]);
        }


    }    
    
    // 1 4 3 2 5 6
    
    static void moveE() { // 동
        int tmp = dice[0];
        dice[0] = dice[1];
        dice[1] = dice[5];
        dice[5] = dice[2];
        dice[2] = tmp;
    }

    static void moveW() { // 서
        int tmp = dice[0];
        dice[0] = dice[2];
        dice[2] = dice[5];
        dice[5] = dice[1];
        dice[1] = tmp;
    }

    static void moveS() { // 남
        int tmp = dice[0];
        dice[0] = dice[3];
        dice[3] = dice[5];
        dice[5] = dice[4];
        dice[4] = tmp;
    }

    static void moveN() { // 북
        int tmp = dice[0];
        dice[0] = dice[4];
        dice[4] = dice[5];
        dice[5] = dice[3];
        dice[3] = tmp;
    }

    static boolean rangeCheck(int nx, int ny) {
        return nx >= 0 && ny >= 0 && nx < n && ny < m;
    }

}


```